# MyAgents (Second Me) æ·±åº¦åˆ†æ

## å¿«é€Ÿå¯¼èˆª
- â±ï¸ é¢„ä¼°å­¦ä¹ æ—¶é—´ï¼š[åˆå­¦è€… 4h] [ç†Ÿç»ƒ 1w] [ä¸“å®¶ 1m]
- ğŸ¯ ç›®æ ‡ç”¨æˆ·ï¼šPythonå¼€å‘è€…ã€AIç ”ç©¶è€…ã€ä¸ªäººAIåŠ©æ‰‹å¼€å‘è€…
- ğŸ“š å‰ç½®çŸ¥è¯†ï¼šPythonã€Flaskã€React/Next.jsã€æœºå™¨å­¦ä¹ åŸºç¡€
- ğŸ”§ å®è·µç¯å¢ƒï¼šDockerã€Python 3.8+ã€Node.js 16+ã€8GB+ RAM

## ç›®å½•
1. [é¡¹ç›®å…¨æ™¯è®¤çŸ¥](#i-é¡¹ç›®å…¨æ™¯è®¤çŸ¥)
2. [æ¶æ„è®¾è®¡åˆ†æ](#ii-æ¶æ„è®¾è®¡åˆ†æ)
3. [ä»£ç å¯¼èˆªåœ°å›¾](#iii-ä»£ç å¯¼èˆªåœ°å›¾)
4. [å®è·µå­¦ä¹ è·¯å¾„](#iv-å®è·µå­¦ä¹ è·¯å¾„)
5. [æºç æ·±åº¦è§£æ](#v-æºç æ·±åº¦è§£æ)
6. [ç”Ÿæ€ç³»ç»Ÿé›†æˆ](#vi-ç”Ÿæ€ç³»ç»Ÿé›†æˆ)

## I. é¡¹ç›®å…¨æ™¯è®¤çŸ¥

### ä¸€å¥è¯æ€»ç»“
Second Me æ˜¯ä¸€ä¸ªå¼€æºçš„ä¸ªäººAIèº«ä»½åŸºç¡€è®¾æ–½ï¼Œé€šè¿‡åˆ†å±‚è®°å¿†å»ºæ¨¡(HMM)å’ŒMe-Alignmentç®—æ³•ï¼Œè®©ç”¨æˆ·è®­ç»ƒå’Œéƒ¨ç½²å±äºè‡ªå·±çš„AIåŒ–èº«ã€‚

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 
- **è§£å†³ç—›ç‚¹**ï¼šä¼ ç»ŸAIç¼ºä¹ä¸ªäººåŒ–è®°å¿†å’Œèº«ä»½è®¤çŸ¥ï¼Œæ— æ³•çœŸæ­£ç†è§£å’Œä»£è¡¨ç”¨æˆ·
- **ç›®æ ‡ç”¨æˆ·**ï¼š
  - æŠ€æœ¯çˆ±å¥½è€…ï¼šå¸Œæœ›æ‹¥æœ‰ä¸ªäººAIåŠ©æ‰‹
  - AIç ”ç©¶è€…ï¼šç ”ç©¶ä¸ªäººåŒ–AIå’Œè®°å¿†å»ºæ¨¡
  - éšç§æ•æ„Ÿç”¨æˆ·ï¼šéœ€è¦å®Œå…¨æœ¬åœ°åŒ–çš„AIè§£å†³æ–¹æ¡ˆ
- **ç‹¬ç‰¹ä¼˜åŠ¿**ï¼š
  - 100% æœ¬åœ°åŒ–éƒ¨ç½²ï¼Œå®Œå…¨çš„éšç§æ§åˆ¶
  - åŸºäºAI-native Memoryçš„ä¸‰å±‚è®°å¿†æ¶æ„(L0-L2)
  - æ”¯æŒä»ä¸ªäººæ•°æ®è®­ç»ƒä¸“å±AIæ¨¡å‹
  - å»ä¸­å¿ƒåŒ–ç½‘ç»œè¿æ¥èƒ½åŠ›
  - æ”¯æŒå¤šç§æ¨¡å‹æ ¼å¼(GGUFã€HuggingFace)

### æŠ€æœ¯æ¶æ„æ¦‚è§ˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Second Me æ¶æ„å›¾                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯å±‚ (lpm_frontend)                                       â”‚
â”‚  â”œâ”€â”€ Next.js 13+ (App Router)                              â”‚
â”‚  â”œâ”€â”€ Zustand çŠ¶æ€ç®¡ç†                                       â”‚
â”‚  â”œâ”€â”€ Ant Design UI ç»„ä»¶                                     â”‚
â”‚  â””â”€â”€ TypeScript + Tailwind CSS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  APIå±‚ (lpm_kernel/api)                                     â”‚
â”‚  â”œâ”€â”€ Flask RESTful API                                     â”‚
â”‚  â”œâ”€â”€ é¢†åŸŸé©±åŠ¨è®¾è®¡ (DDD) - æŒ‰ä¸šåŠ¡åŸŸç»„ç»‡                        â”‚
â”‚  â”œâ”€â”€ Blueprint è·¯ç”±ç®¡ç†                                     â”‚
â”‚  â””â”€â”€ æµå¼å“åº”æ”¯æŒ (SSE)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ ¸å¿ƒå±‚ (lpm_kernel/L0-L2)                                  â”‚
â”‚  â”œâ”€â”€ L0: åŸå§‹æ•°æ®å¤„ç† (æ–‡æ¡£è§£æã€åµŒå…¥ç”Ÿæˆã€å¤šæ¨¡æ€æ”¯æŒ)           â”‚
â”‚  â”œâ”€â”€ L1: çŸ¥è¯†æŠ½è±¡ (èšç±»ã€ä¼ è®°ç”Ÿæˆã€ç‰¹å¾æå–ã€Shadeåˆå¹¶)         â”‚
â”‚  â””â”€â”€ L2: æ¨¡å‹è®­ç»ƒ (SFTã€DPOã€LoRAå¾®è°ƒã€MLXæ”¯æŒ)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å±‚                                                      â”‚
â”‚  â”œâ”€â”€ SQLite å…³ç³»æ•°æ®åº“ (ç”¨æˆ·æ•°æ®ã€è®­ç»ƒè®°å½•)                    â”‚
â”‚  â”œâ”€â”€ ChromaDB å‘é‡æ•°æ®åº“ (åµŒå…¥å­˜å‚¨)                          â”‚
â”‚  â”œâ”€â”€ æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨ (æ¨¡å‹æ–‡ä»¶ã€æ–‡æ¡£)                            â”‚
â”‚  â””â”€â”€ llama.cpp æ¨ç†å¼•æ“                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¡¹ç›®æˆç†Ÿåº¦è¯„ä¼°
- **ç”Ÿäº§å°±ç»ªåº¦**: â˜…â˜…â˜…â˜†â˜† (Alphaç‰ˆæœ¬ï¼Œæ ¸å¿ƒåŠŸèƒ½å®Œæ•´ï¼Œä½†éœ€è¦ä¼˜åŒ–ç¨³å®šæ€§)
- **ç¤¾åŒºæ´»è·ƒåº¦**: â˜…â˜…â˜…â˜…â˜† (GitHub 2.8k+ starsï¼Œæ´»è·ƒå¼€å‘ï¼Œå®šæœŸæ›´æ–°)
- **æ–‡æ¡£è´¨é‡**: â˜…â˜…â˜…â˜†â˜† (åŸºç¡€æ–‡æ¡£å®Œæ•´ï¼ŒæŠ€æœ¯ç»†èŠ‚å’ŒAPIæ–‡æ¡£å¾…è¡¥å……)

## II. æ¶æ„è®¾è®¡åˆ†æ

### è®¾è®¡å“²å­¦
**"AI-native Memory + Me-Alignment"** - é€šè¿‡åˆ†å±‚è®°å¿†å»ºæ¨¡(HMM)æ„å»ºAIåŸç”Ÿçš„ä¸ªäººè®°å¿†ç³»ç»Ÿï¼Œä½¿ç”¨Me-Alignmentç®—æ³•ç¡®ä¿AIåŒ–èº«çœŸå®åæ˜ ç”¨æˆ·èº«ä»½å’Œä»·å€¼è§‚ã€‚

### æ¶æ„åˆ†å±‚

| å±‚çº§ | èŒè´£ | æ ¸å¿ƒæ¨¡å— | è®¾è®¡æ¨¡å¼ |
|------|------|----------|----------|
| **å‰ç«¯å±‚** | ç”¨æˆ·äº¤äº’ç•Œé¢ | Next.js App Router, Zustand Store | Component + Store |
| **APIå±‚** | ä¸šåŠ¡é€»è¾‘ä¸æ¥å£ | Flask Blueprints, Domain Services | Domain-Driven Design |
| **L2 (æ¨¡å‹å±‚)** | AIæ¨¡å‹è®­ç»ƒä¸æ¨ç† | l2_generator, train.py, DPO | Strategy + Factory |
| **L1 (çŸ¥è¯†å±‚)** | çŸ¥è¯†æŠ½è±¡ä¸ä¼ è®°ç”Ÿæˆ | l1_generator, bio.py, shade_generator | Builder + Observer |
| **L0 (æ•°æ®å±‚)** | åŸå§‹æ•°æ®å¤„ç† | l0_generator, document_service | Pipeline + Repository |
| **æ•°æ®å±‚** | æŒä¹…åŒ–å­˜å‚¨ | SQLite, ChromaDB, FileSystem | Repository + DAO |

### æ ¸å¿ƒæŠ½è±¡åˆ†æ

<augment_code_snippet path="lpm_kernel/L1/bio.py" mode="EXCERPT">
````python
@dataclass
class Bio:
    """ç”¨æˆ·ä¼ è®°çš„æ ¸å¿ƒæŠ½è±¡ - ä»£è¡¨ç”¨æˆ·çš„AIèº«ä»½"""
    shadesList: List[ShadeInfo] = field(default_factory=list)

    def to_dict(self) -> Dict[str, Any]:
        return {
            "shadesList": [shade.to_dict() for shade in self.shadesList]
        }

@dataclass
class ShadeInfo:
    """Shade - ç”¨æˆ·èº«ä»½çš„æŸä¸ªæ–¹é¢/ç»´åº¦"""
    title: str
    content: str
    timeline: Optional[ShadeTimeline] = None
````
</augment_code_snippet>

### è®¾è®¡å†³ç­–è§£è¯»
1. **ä¸‰å±‚è®°å¿†æ¶æ„å†³ç­–**: L0â†’L1â†’L2 çš„æ¸è¿›å¼æŠ½è±¡
   - **åŸå› **: æ¨¡æ‹Ÿäººç±»è®°å¿†çš„åˆ†å±‚å¤„ç†æœºåˆ¶ï¼Œä»æ„ŸçŸ¥åˆ°è®¤çŸ¥åˆ°è¡Œä¸º
   - **æ”¶ç›Š**: å¯è§£é‡Šæ€§å¼ºï¼Œä¾¿äºè°ƒè¯•å’Œä¼˜åŒ–ï¼Œæ”¯æŒå¢é‡å­¦ä¹ 
   - **æƒè¡¡**: å¢åŠ äº†ç³»ç»Ÿå¤æ‚åº¦ï¼Œä½†æå‡äº†å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§

2. **æœ¬åœ°åŒ–ä¼˜å…ˆå†³ç­–**: å®Œå…¨æœ¬åœ°éƒ¨ç½²æ¶æ„
   - **åŸå› **: éšç§ä¿æŠ¤å’Œæ•°æ®ä¸»æƒï¼Œé¿å…ä¾èµ–å¤–éƒ¨AIæœåŠ¡
   - **æ”¶ç›Š**: ç”¨æˆ·å®Œå…¨æ§åˆ¶æ•°æ®ï¼Œæ— ç½‘ç»œä¾èµ–ï¼Œæ”¯æŒç¦»çº¿ä½¿ç”¨
   - **æƒè¡¡**: å¯¹ç¡¬ä»¶è¦æ±‚è¾ƒé«˜ï¼Œéƒ¨ç½²å¤æ‚åº¦å¢åŠ 

3. **å¤šæ¨¡æ€æ”¯æŒå†³ç­–**: æ”¯æŒæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ç­‰å¤šç§æ•°æ®ç±»å‹
   - **åŸå› **: ä¸ªäººè®°å¿†æ˜¯å¤šæ¨¡æ€çš„ï¼Œéœ€è¦å…¨é¢æ•è·ç”¨æˆ·ä¿¡æ¯
   - **æ”¶ç›Š**: æ›´ä¸°å¯Œçš„ä¸ªäººAIè¡¨ç¤ºï¼Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
   - **æƒè¡¡**: å¢åŠ äº†å¤„ç†å¤æ‚åº¦å’Œå­˜å‚¨éœ€æ±‚

4. **DDDæ¶æ„å†³ç­–**: APIå±‚é‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡
   - **åŸå› **: ä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œéœ€è¦æ¸…æ™°çš„é¢†åŸŸè¾¹ç•Œ
   - **æ”¶ç›Š**: ä»£ç ç»„ç»‡æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
   - **æƒè¡¡**: å¢åŠ äº†æŠ½è±¡å±‚æ¬¡ï¼Œå­¦ä¹ æˆæœ¬è¾ƒé«˜

## III. ä»£ç å¯¼èˆªåœ°å›¾

### é¡¹ç›®ç»“æ„å›¾
```
MyAgents/
â”œâ”€â”€ lpm_frontend/          # [å‰ç«¯åº”ç”¨: å¿…è¯»]
â”‚   â”œâ”€â”€ src/app/          # Next.js 13 App Routeré¡µé¢
â”‚   â”‚   â”œâ”€â”€ home/         # ä¸»é¡µå’Œèº«ä»½åˆ›å»º
â”‚   â”‚   â”œâ”€â”€ dashboard/    # ä»ªè¡¨æ¿å’Œè®­ç»ƒç•Œé¢
â”‚   â”‚   â””â”€â”€ layout.tsx    # å…¨å±€å¸ƒå±€
â”‚   â”œâ”€â”€ src/components/   # å¯å¤ç”¨UIç»„ä»¶
â”‚   â”œâ”€â”€ src/service/      # APIè°ƒç”¨å°è£…
â”‚   â”œâ”€â”€ src/store/        # ZustandçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ src/utils/        # å·¥å…·å‡½æ•°
â”œâ”€â”€ lpm_kernel/           # [åç«¯æ ¸å¿ƒ: å¿…è¯»]
â”‚   â”œâ”€â”€ L0/              # æ•°æ®å¤„ç†å±‚ - åŸå§‹æ•°æ®åˆ°ç»“æ„åŒ–æ•°æ®
â”‚   â”‚   â”œâ”€â”€ l0_generator.py    # æ ¸å¿ƒæ•°æ®å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ models.py          # L0æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ prompt.py          # L0å¤„ç†æç¤ºè¯
â”‚   â”œâ”€â”€ L1/              # çŸ¥è¯†æŠ½è±¡å±‚ - ç»“æ„åŒ–æ•°æ®åˆ°çŸ¥è¯†å›¾è°±
â”‚   â”‚   â”œâ”€â”€ l1_generator.py    # çŸ¥è¯†æŠ½è±¡ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ bio.py            # ä¼ è®°å’Œèº«ä»½æŠ½è±¡
â”‚   â”‚   â”œâ”€â”€ shade_generator.py # Shadeç‰¹å¾ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ topics_generator.py # ä¸»é¢˜æå–
â”‚   â”œâ”€â”€ L2/              # æ¨¡å‹è®­ç»ƒå±‚ - çŸ¥è¯†åˆ°ä¸ªäººåŒ–æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ l2_generator.py    # è®­ç»ƒæ•°æ®ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ train.py          # æ¨¡å‹è®­ç»ƒä¸»æµç¨‹
â”‚   â”‚   â”œâ”€â”€ dpo/              # DPOä¼˜åŒ–æµç¨‹
â”‚   â”‚   â””â”€â”€ mlx_training/     # Apple Siliconä¼˜åŒ–
â”‚   â”œâ”€â”€ api/             # APIæ¥å£å±‚ - RESTfulæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ domains/          # æŒ‰ä¸šåŠ¡åŸŸç»„ç»‡çš„API
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ common/           # é€šç”¨APIç»„ä»¶
â”‚   â”œâ”€â”€ common/          # é€šç”¨å·¥å…·å’ŒåŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ database/        # æ•°æ®åº“è¿ç§»å’Œç®¡ç†
â”‚   â”œâ”€â”€ models/          # SQLAlchemyæ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ file_data/       # æ–‡ä»¶å¤„ç†å’Œå‘é‡å­˜å‚¨
â”œâ”€â”€ docker/              # [å®¹å™¨åŒ–éƒ¨ç½²: è¿›é˜¶]
â”œâ”€â”€ scripts/             # [è¿ç»´è„šæœ¬: è¿›é˜¶]
â”œâ”€â”€ resources/           # [èµ„æºæ–‡ä»¶: æ¨¡å‹å’Œé…ç½®]
â””â”€â”€ docs/                # [æ–‡æ¡£: æ¦‚å¿µç†è§£]
```

### æ¨èé˜…è¯»è·¯å¾„

#### ğŸš¶ åˆå­¦è€…è·¯å¾„ (4å°æ—¶)
1. `README.md` - é¡¹ç›®æ¦‚è¿°å’Œå¿«é€Ÿå¼€å§‹
2. `lpm_kernel/app.py` - Flaskåº”ç”¨å…¥å£ç‚¹ [é‡ç‚¹: L1-L20 åº”ç”¨åˆå§‹åŒ–]
3. `lpm_frontend/src/app/home/page.tsx` - å‰ç«¯ä¸»é¡µé¢ [é‡ç‚¹: L1-L50 èº«ä»½åˆ›å»ºæµç¨‹]
4. `lpm_kernel/L0/l0_generator.py` - æ•°æ®å¤„ç†ç¤ºä¾‹ [é‡ç‚¹: L525-L550 insighteræ–¹æ³•]
5. `docker-compose.yml` - å®¹å™¨åŒ–éƒ¨ç½²é…ç½®

#### ğŸƒ è¿›é˜¶è·¯å¾„ (1å‘¨)
1. `lpm_kernel/api/__init__.py` - APIè·¯ç”±æ³¨å†Œ [é‡ç‚¹: L15-L30 è“å›¾æ³¨å†Œ]
2. `lpm_kernel/kernel/l1/l1_manager.py` - L1ç®¡ç†å™¨ [é‡ç‚¹: L101-L160 L1ç”Ÿæˆæµç¨‹]
3. `lpm_kernel/L1/l1_generator.py` - çŸ¥è¯†æŠ½è±¡æ ¸å¿ƒ [é‡ç‚¹: èšç±»å’Œä¼ è®°ç”Ÿæˆ]
4. `lpm_kernel/L2/data.py` - è®­ç»ƒæ•°æ®å‡†å¤‡ [é‡ç‚¹: æ•°æ®åˆæˆæµç¨‹]
5. `lpm_frontend/src/store/useTrainingStore.ts` - è®­ç»ƒçŠ¶æ€ç®¡ç†
6. `lpm_kernel/api/services/local_llm_service.py` - æœ¬åœ°LLMæœåŠ¡

#### ğŸš€ ä¸“å®¶è·¯å¾„ (1ä¸ªæœˆ)
1. **ç¬¬1å‘¨**: æ·±å…¥L0-L2æ•°æ®æµè½¬æœºåˆ¶
   - `lpm_kernel/file_data/document_service.py` - æ–‡æ¡£å¤„ç†æœåŠ¡
   - `lpm_kernel/L1/shade_generator.py` - Shadeç‰¹å¾ç”Ÿæˆç®—æ³•
   - `lpm_kernel/L2/train.py` - å®Œæ•´è®­ç»ƒæµç¨‹
2. **ç¬¬2å‘¨**: APIæ¶æ„å’Œä¸šåŠ¡é€»è¾‘
   - `lpm_kernel/api/domains/` - å„ä¸šåŠ¡åŸŸå®ç°
   - `lpm_kernel/common/repository/` - æ•°æ®è®¿é—®å±‚
   - `lpm_kernel/database/migrations/` - æ•°æ®åº“æ¼”è¿›
3. **ç¬¬3å‘¨**: å‰ç«¯æ¶æ„å’Œç”¨æˆ·ä½“éªŒ
   - `lpm_frontend/src/app/dashboard/` - å®Œæ•´ä»ªè¡¨æ¿å®ç°
   - `lpm_frontend/src/components/train/` - è®­ç»ƒç›¸å…³ç»„ä»¶
   - `lpm_frontend/next.config.js` - å‰ç«¯é…ç½®å’Œä»£ç†
4. **ç¬¬4å‘¨**: éƒ¨ç½²å’Œä¼˜åŒ–
   - `scripts/` - è¿ç»´è„šæœ¬åˆ†æ
   - `lpm_kernel/L2/mlx_training/` - Apple Siliconä¼˜åŒ–
   - `lpm_kernel/L2/dpo/` - DPOä¼˜åŒ–æµç¨‹

### ä»£ç åœ°æ ‡

| è¦æŸ¥æ‰¾çš„å†…å®¹ | ä½ç½® | å…³é”®ä»£ç ç‰‡æ®µ |
|-------------|------|-------------|
| åº”ç”¨å…¥å£ | `lpm_kernel/app.py:L1` | `Flask(__name__)` |
| APIè·¯ç”±æ³¨å†Œ | `lpm_kernel/api/__init__.py:L15` | `init_routes(app)` |
| æ•°æ®å¤„ç†æ ¸å¿ƒ | `lpm_kernel/L0/l0_generator.py:L525` | `insighter(inputs)` |
| L1çŸ¥è¯†ç”Ÿæˆ | `lpm_kernel/kernel/l1/l1_manager.py:L101` | `generate_l1_from_l0()` |
| æ¨¡å‹è®­ç»ƒå…¥å£ | `lpm_kernel/L2/train.py:L50` | `train_model()` |
| å‰ç«¯çŠ¶æ€ç®¡ç† | `lpm_frontend/src/store/useTrainingStore.ts:L106` | `useTrainingStore` |
| æœ¬åœ°LLMæœåŠ¡ | `lpm_kernel/api/services/local_llm_service.py:L42` | `start_server()` |
| æ•°æ®åº“ä¼šè¯ | `lpm_kernel/common/repository/database_session.py:L57` | `session()` |

## IV. å®è·µå­¦ä¹ è·¯å¾„

### ğŸ¯ ç¬¬1å¤©: å¿«é€Ÿå¯åŠ¨

#### ç¯å¢ƒæ­å»º
```bash
# 1. å…‹éš†é¡¹ç›® (forkåä½¿ç”¨è‡ªå·±çš„ä»“åº“)
git clone https://github.com/yknothing/MyAgents.git
cd MyAgents

# 2. Dockeræ–¹å¼å¯åŠ¨ (æ¨è)
make docker-up
# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨
docker-compose up -d

# 3. éªŒè¯æœåŠ¡çŠ¶æ€
curl http://localhost:8002/api/health  # åç«¯å¥åº·æ£€æŸ¥
# æµè§ˆå™¨æ‰“å¼€: http://localhost:3000   # å‰ç«¯ç•Œé¢

# 4. æŸ¥çœ‹æ—¥å¿— (å¦‚æœæœ‰é—®é¢˜)
docker-compose logs -f backend
docker-compose logs -f frontend
```

#### ç¬¬ä¸€ä¸ªç¤ºä¾‹ - åˆ›å»ºAIèº«ä»½
```python
# é€šè¿‡APIåˆ›å»ºä¸ªäººèº«ä»½
import requests

# 1. åˆ›å»ºä¸ªäººä¿¡æ¯
personal_info = {
    "name": "æˆ‘çš„AIåŒ–èº«",
    "description": "åŸºäºæˆ‘çš„ä¸ªäººæ•°æ®è®­ç»ƒçš„AIåŠ©æ‰‹",
    "email": "user@example.com"
}

# 2. è°ƒç”¨APIåˆ›å»ºèº«ä»½
response = requests.post(
    "http://localhost:8002/api/loads",
    json=personal_info
)

if response.status_code == 200:
    result = response.json()
    print(f"èº«ä»½åˆ›å»ºæˆåŠŸ: {result['data']['id']}")
else:
    print(f"åˆ›å»ºå¤±è´¥: {response.text}")
```

### ğŸ¯ ç¬¬1å‘¨: æ ¸å¿ƒæŒæ¡

#### å®è·µé¡¹ç›®1: ä¸ªäººè®°å¿†ä¸Šä¼ å™¨
- **ç›®æ ‡**: æŒæ¡L0å±‚æ•°æ®å¤„ç†æµç¨‹ï¼Œç†è§£å¤šæ¨¡æ€æ•°æ®å¤„ç†
- **éœ€æ±‚**: ä¸Šä¼ ä¸ªäººæ–‡æ¡£(æ–‡æœ¬/å›¾ç‰‡/éŸ³é¢‘)ï¼Œè§‚å¯Ÿå¤„ç†ç»“æœ
- **å®ç°æ­¥éª¤**:
  1. å‡†å¤‡æµ‹è¯•æ•°æ®(ä¸ªäººæ—¥è®°ã€ç…§ç‰‡ã€è¯­éŸ³å¤‡å¿˜å½•)
  2. ä½¿ç”¨ä¸Šä¼ APIå¤„ç†æ•°æ®
  3. è§‚å¯ŸL0å¤„ç†æµç¨‹å’Œç”Ÿæˆçš„åµŒå…¥å‘é‡
  4. æŸ¥çœ‹ChromaDBä¸­çš„å‘é‡å­˜å‚¨

```python
# æ–‡æ¡£ä¸Šä¼ ç¤ºä¾‹
import requests

def upload_document(file_path, description=""):
    with open(file_path, 'rb') as f:
        files = {'file': f}
        data = {'description': description}
        response = requests.post(
            "http://localhost:8002/api/upload",
            files=files,
            data=data
        )
    return response.json()

# ä¸Šä¼ æ–‡æœ¬æ–‡æ¡£
result = upload_document("my_diary.txt", "ä¸ªäººæ—¥è®°")
print(f"ä¸Šä¼ ç»“æœ: {result}")
```

#### å®è·µé¡¹ç›®2: L1çŸ¥è¯†æŠ½è±¡è§‚å¯Ÿå™¨
- **ç›®æ ‡**: ç†è§£L1å±‚çŸ¥è¯†æŠ½è±¡å’ŒShadeç”Ÿæˆæœºåˆ¶
- **éœ€æ±‚**: è§‚å¯Ÿä¸ªäººæ•°æ®å¦‚ä½•è¢«æŠ½è±¡ä¸ºçŸ¥è¯†å›¾è°±å’Œä¼ è®°
- **å…³é”®è§‚å¯Ÿç‚¹**:
  - èšç±»ç»“æœ: ç›¸ä¼¼è®°å¿†å¦‚ä½•è¢«åˆ†ç»„
  - Shadeç”Ÿæˆ: ä¸ªäººç‰¹å¾å¦‚ä½•è¢«æå–
  - ä¼ è®°åˆæˆ: å¦‚ä½•ç”Ÿæˆè¿è´¯çš„ä¸ªäººæè¿°

```python
# è§¦å‘L1ç”Ÿæˆå¹¶è§‚å¯Ÿç»“æœ
response = requests.post("http://localhost:8002/api/kernel/generate-l1")
if response.status_code == 200:
    l1_result = response.json()
    print("èšç±»æ•°é‡:", len(l1_result['data']['clusters']))
    print("ç”Ÿæˆçš„Shade:", l1_result['data']['bio']['shadesList'])
```

### ğŸ¯ ç¬¬1ä¸ªæœˆ: æ·±åº¦ä¸“ç²¾

#### é«˜çº§é¡¹ç›®1: è‡ªå®šä¹‰è®­ç»ƒæµç¨‹
- **ç›®æ ‡**: æŒæ¡L2å±‚æ¨¡å‹è®­ç»ƒï¼Œå®ç°ä¸ªäººåŒ–AIæ¨¡å‹
- **æŠ€æœ¯æ ˆ**: SFT(ç›‘ç£å¾®è°ƒ) + DPO(ç›´æ¥åå¥½ä¼˜åŒ–) + LoRA
- **å®ç°æ­¥éª¤**:
  1. å‡†å¤‡å……è¶³çš„ä¸ªäººæ•°æ®(è‡³å°‘100MBæ–‡æœ¬)
  2. é…ç½®è®­ç»ƒå‚æ•°(æ¨¡å‹å¤§å°ã€å­¦ä¹ ç‡ç­‰)
  3. æ‰§è¡ŒSFTè®­ç»ƒ
  4. ä½¿ç”¨DPOè¿›è¡Œåå¥½å¯¹é½
  5. éƒ¨ç½²å’Œæµ‹è¯•ä¸ªäººåŒ–æ¨¡å‹

#### é«˜çº§é¡¹ç›®2: å¤šæ¨¡æ€è®°å¿†ç³»ç»Ÿ
- **ç›®æ ‡**: æ‰©å±•ç³»ç»Ÿæ”¯æŒæ›´å¤šæ•°æ®ç±»å‹
- **å®ç°å†…å®¹**:
  - è§†é¢‘å¤„ç†æ”¯æŒ
  - ç¤¾äº¤åª’ä½“æ•°æ®å¯¼å…¥
  - å®æ—¶æ•°æ®æµå¤„ç†

### å¸¸è§é™·é˜±ä¸æœ€ä½³å®è·µ

| åœºæ™¯ | é”™è¯¯åšæ³• | æ­£ç¡®åšæ³• | è§£é‡Š |
|------|----------|----------|------|
| å†…å­˜ä¸è¶³ | ç›´æ¥ä½¿ç”¨7B+æ¨¡å‹ | æ ¹æ®ç¡¬ä»¶é€‰æ‹©0.5B-3Bæ¨¡å‹ | å‚è€ƒREADMEä¸­çš„å†…å­˜å¯¹ç…§è¡¨ |
| è®­ç»ƒæ•°æ®ä¸è¶³ | å¼ºè¡Œå¼€å§‹è®­ç»ƒ | è‡³å°‘å‡†å¤‡50MB+é«˜è´¨é‡æ–‡æœ¬ | L0æ•°æ®è´¨é‡ç›´æ¥å½±å“æœ€ç»ˆæ•ˆæœ |
| Dockerå¯åŠ¨å¤±è´¥ | å¿½ç•¥ç«¯å£å†²çª | æ£€æŸ¥8002/3000ç«¯å£å ç”¨ | ä½¿ç”¨`lsof -i :8002`æ£€æŸ¥ |
| APIè°ƒç”¨è¶…æ—¶ | ä½¿ç”¨é»˜è®¤è¶…æ—¶ | è®¾ç½®è¾ƒé•¿è¶…æ—¶æ—¶é—´(600s+) | è®­ç»ƒå’Œæ¨ç†éœ€è¦è¾ƒé•¿æ—¶é—´ |
| æ¨¡å‹æ¨ç†æ…¢ | ä½¿ç”¨CPUæ¨ç† | å¯ç”¨GPUåŠ é€Ÿæˆ–ä½¿ç”¨MLX | é…ç½®CUDAæˆ–MLXç¯å¢ƒ |

## V. æºç æ·±åº¦è§£æ

### ç®—æ³•1: åˆ†å±‚è®°å¿†å»ºæ¨¡ (Hierarchical Memory Modeling)

#### åŸç†å¯è§†åŒ–
```
åŸå§‹æ•°æ® â†’ L0å¤„ç† â†’ L1æŠ½è±¡ â†’ L2è®­ç»ƒ â†’ ä¸ªäººåŒ–AI
   â†“         â†“        â†“        â†“         â†“
æ–‡æ¡£/å›¾ç‰‡   åµŒå…¥å‘é‡   çŸ¥è¯†å›¾è°±  è®­ç»ƒæ•°æ®   AIåŒ–èº«
å¤šæ¨¡æ€     ç»“æ„åŒ–     èšç±»åˆ†ç»„   SFT/DPO   æ¨ç†æœåŠ¡
```

#### æ ¸å¿ƒç®—æ³•å®ç°åˆ†æ

<augment_code_snippet path="lpm_kernel/kernel/l1/l1_manager.py" mode="EXCERPT">
````python
def generate_l1_from_l0() -> L1GenerationResult:
    """ä»L0æ•°æ®ç”ŸæˆL1çº§åˆ«çš„çŸ¥è¯†è¡¨ç¤º

    è¿™æ˜¯æ•´ä¸ªè®°å¿†å»ºæ¨¡çš„æ ¸å¿ƒç®—æ³•ï¼Œå°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºç»“æ„åŒ–çŸ¥è¯†
    å¤æ‚åº¦: O(n log n) - ä¸»è¦ç”±èšç±»ç®—æ³•å†³å®š
    """
    l1_generator = L1Generator()

    # 1. æ•°æ®å‡†å¤‡ - è·å–å·²å¤„ç†çš„L0æ•°æ®
    documents = document_service.list_documents_with_l0()
    logger.info(f"Found {len(documents)} documents with L0 data")

    # 2. æå–ç¬”è®°å’Œè®°å¿† - è½¬æ¢ä¸ºç»Ÿä¸€çš„Noteæ ¼å¼
    notes_list, memory_list = extract_notes_from_documents(documents)
````
</augment_code_snippet>

#### ç®—æ³•ä¼˜åŒ–å†ç¨‹
- **v1.0**: ç®€å•K-meansèšç±»å®ç°
- **v2.0**: å¼•å…¥å‘é‡ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘é‡å¤è®¡ç®—
- **v3.0**: å¹¶è¡Œå¤„ç†ä¼˜åŒ–ï¼Œæ”¯æŒå¤§è§„æ¨¡æ•°æ®
- **v4.0**: å¢åŠ Shadeåˆå¹¶ç®—æ³•ï¼Œæå‡ä¼ è®°è´¨é‡

### ç®—æ³•2: Shadeç‰¹å¾æå–ä¸åˆå¹¶

#### åŸç†è¯´æ˜
Shadeä»£è¡¨ç”¨æˆ·èº«ä»½çš„æŸä¸ªç»´åº¦æˆ–æ–¹é¢ï¼Œé€šè¿‡LLMåˆ†æç”¨æˆ·æ•°æ®æå–ä¸ªäººç‰¹å¾ï¼Œç„¶åä½¿ç”¨åˆå¹¶ç®—æ³•ç”Ÿæˆè¿è´¯çš„ä¸ªäººä¼ è®°ã€‚

<augment_code_snippet path="lpm_kernel/L1/shade_generator.py" mode="EXCERPT">
````python
class ShadeGenerator:
    """Shadeç‰¹å¾ç”Ÿæˆå™¨ - æå–ç”¨æˆ·èº«ä»½çš„ä¸åŒç»´åº¦"""

    def generate_shade(self, cluster: Cluster, notes: List[Note]) -> ShadeInfo:
        """ä¸ºå•ä¸ªèšç±»ç”ŸæˆShadeç‰¹å¾

        Args:
            cluster: è®°å¿†èšç±»
            notes: ç›¸å…³ç¬”è®°åˆ—è¡¨

        Returns:
            ShadeInfo: åŒ…å«æ ‡é¢˜ã€å†…å®¹ã€æ—¶é—´çº¿çš„ç‰¹å¾æè¿°
        """
        # ä½¿ç”¨LLMåˆ†æèšç±»å†…å®¹ï¼Œæå–ä¸ªäººç‰¹å¾
        # å¤æ‚åº¦: O(1) - å•æ¬¡LLMè°ƒç”¨
````
</augment_code_snippet>

### ç®—æ³•3: Me-Alignmentè®­ç»ƒç®—æ³•

#### DPO (Direct Preference Optimization) å®ç°
```python
# DPOè®­ç»ƒçš„æ ¸å¿ƒæ€æƒ³ï¼šç›´æ¥ä¼˜åŒ–åå¥½ï¼Œæ— éœ€å¥–åŠ±æ¨¡å‹
def dpo_loss(policy_logits, reference_logits, preferred, rejected):
    """
    DPOæŸå¤±å‡½æ•°å®ç°

    Args:
        policy_logits: å½“å‰ç­–ç•¥æ¨¡å‹çš„è¾“å‡º
        reference_logits: å‚è€ƒæ¨¡å‹çš„è¾“å‡º
        preferred: åå¥½å›ç­”
        rejected: æ‹’ç»å›ç­”

    Returns:
        loss: DPOæŸå¤±å€¼
    """
    # è®¡ç®—ç­–ç•¥æ¨¡å‹å’Œå‚è€ƒæ¨¡å‹çš„å¯¹æ•°æ¦‚ç‡æ¯”
    policy_ratio = policy_logits - reference_logits

    # DPOæŸå¤± = -log(sigmoid(Î² * (r_preferred - r_rejected)))
    # å…¶ä¸­Î²æ˜¯æ¸©åº¦å‚æ•°ï¼Œæ§åˆ¶ä¼˜åŒ–å¼ºåº¦
    return -torch.log(torch.sigmoid(beta * policy_ratio))
```

### è®¾è®¡äº®ç‚¹

1. **åˆ†å±‚æŠ½è±¡è®¾è®¡**:
   - å®ç°ä½ç½®: `lpm_kernel/L0-L2/`
   - ä¼˜åŠ¿: æ¨¡å—åŒ–æ¸…æ™°ï¼Œå¯ç‹¬ç«‹ä¼˜åŒ–æ¯ä¸€å±‚
   - åˆ›æ–°ç‚¹: æ¨¡æ‹Ÿäººç±»è®°å¿†çš„åˆ†å±‚å¤„ç†æœºåˆ¶

2. **å¤šæ¨¡æ€ç»Ÿä¸€å¤„ç†**:
   - å®ç°ä½ç½®: `lpm_kernel/L0/l0_generator.py`
   - ä¼˜åŠ¿: æ”¯æŒæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘çš„ç»Ÿä¸€å¤„ç†æµç¨‹
   - æŠ€æœ¯ç»†èŠ‚: ä½¿ç”¨ç»Ÿä¸€çš„åµŒå…¥ç©ºé—´è¡¨ç¤ºä¸åŒæ¨¡æ€

3. **æµå¼è®­ç»ƒæ¶æ„**:
   - å®ç°ä½ç½®: `lpm_kernel/L2/train.py`
   - ä¼˜åŠ¿: æ”¯æŒå¤§è§„æ¨¡æ•°æ®çš„å¢é‡è®­ç»ƒ
   - æ€§èƒ½ä¼˜åŒ–: å†…å­˜ä½¿ç”¨ä¼˜åŒ–ï¼Œæ”¯æŒä½èµ„æºç¯å¢ƒ

### æ”¹è¿›æœºä¼š

1. **æ½œåœ¨é—®é¢˜**: å‘é‡å­˜å‚¨æ•ˆç‡
   - å½±å“: å¤§è§„æ¨¡æ•°æ®æ—¶æŸ¥è¯¢æ€§èƒ½ä¸‹é™
   - å»ºè®®æ–¹æ¡ˆ: å®ç°åˆ†å±‚ç´¢å¼•å’Œè¿‘ä¼¼æœ€è¿‘é‚»æœç´¢

2. **æ‰©å±•æ€§é™åˆ¶**: å•æœºéƒ¨ç½²é™åˆ¶
   - å½±å“: æ— æ³•å¤„ç†è¶…å¤§è§„æ¨¡ä¸ªäººæ•°æ®
   - å»ºè®®æ–¹æ¡ˆ: è®¾è®¡åˆ†å¸ƒå¼æ¶æ„æ”¯æŒ

3. **å®æ—¶æ€§ä¸è¶³**: æ‰¹å¤„ç†æ¨¡å¼
   - å½±å“: æ— æ³•å®æ—¶å“åº”æ–°æ•°æ®
   - å»ºè®®æ–¹æ¡ˆ: å®ç°æµå¼å¤„ç†ç®¡é“

## VI. ç”Ÿæ€ç³»ç»Ÿé›†æˆ

### æ¡†æ¶é›†æˆçŸ©é˜µ

| æ¡†æ¶/å·¥å…· | é›†æˆæ–¹å¼ | ç¤ºä¾‹ä»£ç  | æ³¨æ„äº‹é¡¹ |
|-----------|----------|----------|----------|
| **LangChain** | APIé›†æˆ | `SecondMeAgent(base_url="http://localhost:8002")` | éœ€è¦é…ç½®æœ¬åœ°APIç«¯ç‚¹ |
| **Ollama** | æ¨¡å‹éƒ¨ç½² | `ollama run secondme-model.gguf` | æ”¯æŒGGUFæ ¼å¼æ¨¡å‹å¯¼å‡º |
| **HuggingFace** | æ¨¡å‹å‘å¸ƒ | `model.push_to_hub("username/secondme-model")` | æ³¨æ„éšç§æ•°æ®å¤„ç† |
| **ChromaDB** | å‘é‡å­˜å‚¨ | å†…ç½®é›†æˆ | æ”¯æŒæœ¬åœ°å’Œè¿œç¨‹éƒ¨ç½² |
| **llama.cpp** | æ¨ç†å¼•æ“ | å†…ç½®é›†æˆ | æ”¯æŒCPU/GPU/MLXåŠ é€Ÿ |
| **Gradio** | Webç•Œé¢ | `gr.Interface(fn=chat_with_secondme)` | å¯æ›¿ä»£é»˜è®¤å‰ç«¯ |

### éƒ¨ç½²æ¶æ„é€‰æ‹©

#### 1. å•æœºéƒ¨ç½² (æ¨èç”¨äºä¸ªäººä½¿ç”¨)
```yaml
æ¶æ„ç‰¹ç‚¹:
  - å®Œå…¨æœ¬åœ°åŒ–ï¼Œéšç§ä¿æŠ¤æœ€ä½³
  - ç¡¬ä»¶è¦æ±‚: 8GB+ RAM, å¯é€‰GPU
  - é€‚ç”¨åœºæ™¯: ä¸ªäººAIåŠ©æ‰‹ï¼Œéšç§æ•æ„Ÿåº”ç”¨

éƒ¨ç½²æ–¹å¼:
  - Docker Compose (æ¨è)
  - æºç ç›´æ¥éƒ¨ç½²
  - é¢„ç¼–è¯‘äºŒè¿›åˆ¶åŒ…
```

#### 2. äº‘ç«¯éƒ¨ç½² (é€‚ç”¨äºå›¢é˜Ÿä½¿ç”¨)
```yaml
æ¶æ„ç‰¹ç‚¹:
  - æ”¯æŒå¤šç”¨æˆ·ï¼Œèµ„æºå…±äº«
  - éœ€è¦è€ƒè™‘æ•°æ®éšç§å’Œå®‰å…¨
  - é€‚ç”¨åœºæ™¯: ä¼ä¸šå†…éƒ¨AIåŠ©æ‰‹

æŠ€æœ¯æ ˆ:
  - Kubernetes + Docker
  - è´Ÿè½½å‡è¡¡ + æ•°æ®åº“é›†ç¾¤
  - å¯¹è±¡å­˜å‚¨ + CDNåŠ é€Ÿ
```

### ç”Ÿäº§éƒ¨ç½²æ£€æŸ¥æ¸…å•

#### æ€§èƒ½é…ç½®
- [ ] **æ¨¡å‹é€‰æ‹©**: æ ¹æ®ç¡¬ä»¶é€‰æ‹©åˆé€‚çš„æ¨¡å‹å¤§å° (0.5B-7B)
- [ ] **GPUé…ç½®**: é…ç½®CUDAæˆ–MLXåŠ é€Ÿ (å¦‚æœå¯ç”¨)
- [ ] **å†…å­˜ä¼˜åŒ–**: è®¾ç½®åˆé€‚çš„æ‰¹å¤„ç†å¤§å°å’Œä¸Šä¸‹æ–‡é•¿åº¦
- [ ] **å¹¶å‘æ§åˆ¶**: é…ç½®åˆé€‚çš„å·¥ä½œè¿›ç¨‹æ•°é‡

#### å®‰å…¨åŠ å›º
- [ ] **ç½‘ç»œå®‰å…¨**: é…ç½®é˜²ç«å¢™ï¼Œé™åˆ¶APIè®¿é—®
- [ ] **æ•°æ®åŠ å¯†**: å¯ç”¨æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»ŸåŠ å¯†
- [ ] **è®¿é—®æ§åˆ¶**: å®ç°ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- [ ] **å®¡è®¡æ—¥å¿—**: å¯ç”¨è¯¦ç»†çš„æ“ä½œæ—¥å¿—è®°å½•

#### ç›‘æ§é›†æˆ
- [ ] **æ€§èƒ½ç›‘æ§**: é›†æˆPrometheus + Grafana
- [ ] **æ—¥å¿—èšåˆ**: é…ç½®ELKæˆ–ç±»ä¼¼æ—¥å¿—ç³»ç»Ÿ
- [ ] **å¥åº·æ£€æŸ¥**: é…ç½®æœåŠ¡å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨é‡å¯
- [ ] **èµ„æºç›‘æ§**: ç›‘æ§CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨æƒ…å†µ

#### å¤‡ä»½ç­–ç•¥
- [ ] **æ•°æ®å¤‡ä»½**: å®šæœŸå¤‡ä»½æ•°æ®åº“å’Œå‘é‡å­˜å‚¨
- [ ] **æ¨¡å‹å¤‡ä»½**: å¤‡ä»½è®­ç»ƒå¥½çš„ä¸ªäººåŒ–æ¨¡å‹
- [ ] **é…ç½®å¤‡ä»½**: å¤‡ä»½ç³»ç»Ÿé…ç½®å’Œç¯å¢ƒå˜é‡
- [ ] **ç¾éš¾æ¢å¤**: åˆ¶å®šç¾éš¾æ¢å¤è®¡åˆ’å’Œæµç¨‹

### æ‰©å±•å¼€å‘æŒ‡å—

#### æ·»åŠ æ–°çš„æ•°æ®å¤„ç†å™¨
```python
# åœ¨ lpm_kernel/L0/ ä¸­æ·»åŠ æ–°çš„å¤„ç†å™¨
class VideoProcessor(BaseProcessor):
    """è§†é¢‘æ•°æ®å¤„ç†å™¨"""

    def process(self, video_data: bytes) -> ProcessResult:
        # 1. è§†é¢‘å¸§æå–
        # 2. éŸ³é¢‘åˆ†ç¦»
        # 3. æ–‡æœ¬è¯†åˆ« (OCR/ASR)
        # 4. ç”Ÿæˆç»Ÿä¸€åµŒå…¥
        pass
```

#### è‡ªå®šä¹‰è®­ç»ƒç­–ç•¥
```python
# åœ¨ lpm_kernel/L2/ ä¸­æ·»åŠ æ–°çš„è®­ç»ƒç­–ç•¥
class CustomTrainingStrategy(BaseTrainingStrategy):
    """è‡ªå®šä¹‰è®­ç»ƒç­–ç•¥"""

    def prepare_data(self, user_data: List[Note]) -> TrainingData:
        # è‡ªå®šä¹‰æ•°æ®å‡†å¤‡é€»è¾‘
        pass

    def train_model(self, data: TrainingData) -> Model:
        # è‡ªå®šä¹‰è®­ç»ƒé€»è¾‘
        pass
```

## é™„å½•A: å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨APIç«¯ç‚¹
```bash
# ç³»ç»ŸçŠ¶æ€
GET  /api/health                    # å¥åº·æ£€æŸ¥
GET  /api/kernel2/llama/status      # æ¨¡å‹æœåŠ¡çŠ¶æ€

# èº«ä»½ç®¡ç†
POST /api/loads                     # åˆ›å»ºAIèº«ä»½
GET  /api/loads/current             # è·å–å½“å‰èº«ä»½

# æ•°æ®ä¸Šä¼ 
POST /api/upload                    # ä¸Šä¼ æ–‡æ¡£
GET  /api/upload/status             # ä¸Šä¼ çŠ¶æ€

# è®­ç»ƒæµç¨‹
POST /api/kernel/generate-l1        # ç”ŸæˆL1çŸ¥è¯†
POST /api/trainprocess/train        # å¼€å§‹è®­ç»ƒ
GET  /api/trainprocess/progress     # è®­ç»ƒè¿›åº¦

# æ¨¡å‹æœåŠ¡
POST /api/kernel2/llama/start       # å¯åŠ¨æ¨¡å‹æœåŠ¡
POST /api/kernel2/llama/stop        # åœæ­¢æ¨¡å‹æœåŠ¡
POST /api/kernel2/chat              # å¯¹è¯æ¥å£
```

### å¸¸ç”¨å‘½ä»¤
```bash
# é¡¹ç›®ç®¡ç†
make docker-up                      # å¯åŠ¨æ‰€æœ‰æœåŠ¡
make docker-down                    # åœæ­¢æ‰€æœ‰æœåŠ¡
docker-compose logs -f backend      # æŸ¥çœ‹åç«¯æ—¥å¿—
docker-compose logs -f frontend     # æŸ¥çœ‹å‰ç«¯æ—¥å¿—

# å¼€å‘è°ƒè¯•
python lpm_kernel/app.py            # ç›´æ¥è¿è¡Œåç«¯
npm run dev                         # å¼€å‘æ¨¡å¼è¿è¡Œå‰ç«¯
pytest tests/                       # è¿è¡Œæµ‹è¯•

# æ¨¡å‹ç®¡ç†
./scripts/start_local.sh            # å¯åŠ¨æœ¬åœ°æ¨¡å‹æœåŠ¡
./scripts/stop.sh                   # åœæ­¢æ‰€æœ‰æœåŠ¡
./lpm_kernel/L2/train_for_user.sh   # å‘½ä»¤è¡Œè®­ç»ƒ
```

### é…ç½®æ–‡ä»¶è¯´æ˜
```bash
# ä¸»è¦é…ç½®æ–‡ä»¶
docker-compose.yml                  # Dockerç¼–æ’é…ç½®
lpm_frontend/next.config.js         # å‰ç«¯é…ç½®
lpm_kernel/configs/config.py        # åç«¯é…ç½®
lpm_kernel/L2/.env                  # è®­ç»ƒç¯å¢ƒå˜é‡
```

## é™„å½•B: æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜FAQ

**Q: Dockerå¯åŠ¨å¤±è´¥ï¼Œæç¤ºç«¯å£è¢«å ç”¨ï¼Ÿ**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8002  # åç«¯ç«¯å£
lsof -i :3000  # å‰ç«¯ç«¯å£

# è§£å†³æ–¹æ¡ˆ
sudo kill -9 <PID>  # æ€æ­»å ç”¨è¿›ç¨‹
# æˆ–ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„
```

**Q: è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°å†…å­˜ä¸è¶³é”™è¯¯ï¼Ÿ**
```bash
# æ£€æŸ¥ç³»ç»Ÿå†…å­˜
free -h

# è§£å†³æ–¹æ¡ˆ
1. é€‰æ‹©æ›´å°çš„æ¨¡å‹ (0.5B-1.5B)
2. å‡å°‘æ‰¹å¤„ç†å¤§å°
3. å¯ç”¨æ¢¯åº¦æ£€æŸ¥ç‚¹
4. ä½¿ç”¨MLX (Mac) æˆ–é‡åŒ–æ¨¡å‹
```

**Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯APIï¼Ÿ**
```bash
# æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
curl http://localhost:8002/api/health

# æ£€æŸ¥ç½‘ç»œé…ç½®
# ç¡®è®¤ lpm_frontend/next.config.js ä¸­çš„ä»£ç†é…ç½®æ­£ç¡®
```

**Q: æ¨¡å‹æ¨ç†é€Ÿåº¦å¾ˆæ…¢ï¼Ÿ**
```bash
# è§£å†³æ–¹æ¡ˆ
1. å¯ç”¨GPUåŠ é€Ÿ (CUDA)
2. ä½¿ç”¨MLX (Apple Silicon)
3. é€‰æ‹©æ›´å°çš„æ¨¡å‹
4. è°ƒæ•´ä¸Šä¸‹æ–‡é•¿åº¦
5. å¯ç”¨æ¨¡å‹é‡åŒ–
```

**Q: ä¸Šä¼ çš„æ–‡æ¡£æ²¡æœ‰è¢«å¤„ç†ï¼Ÿ**
```bash
# æ£€æŸ¥å¤„ç†çŠ¶æ€
curl http://localhost:8002/api/upload/status

# æŸ¥çœ‹å¤„ç†æ—¥å¿—
docker-compose logs -f backend | grep "L0\|document"

# å¸¸è§åŸå› 
1. æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ
2. æ–‡ä»¶è¿‡å¤§
3. åµŒå…¥æœåŠ¡æœªé…ç½®
4. ç£ç›˜ç©ºé—´ä¸è¶³
```

## é™„å½•C: è¿›é˜¶é˜…è¯»

### æ ¸å¿ƒè®ºæ–‡
- [AI-native Memory 2.0](https://arxiv.org/abs/2503.08102) - åˆ†å±‚è®°å¿†å»ºæ¨¡ç†è®ºåŸºç¡€
- [AI-native Memory 1.0](https://arxiv.org/abs/2406.18312) - åŸå§‹è®ºæ–‡
- [DPO: Direct Preference Optimization](https://arxiv.org/abs/2305.18290) - åå¥½ä¼˜åŒ–ç®—æ³•

### æŠ€æœ¯æ–‡æ¡£
- [Second Meå®˜æ–¹æ–‡æ¡£](https://secondme.gitbook.io/secondme/) - å®Œæ•´ç”¨æˆ·æŒ‡å—
- [GraphRAGæŠ€æœ¯æ–‡æ¡£](https://github.com/microsoft/graphrag) - çŸ¥è¯†å›¾è°±æ„å»º
- [llama.cppéƒ¨ç½²æŒ‡å—](https://github.com/ggml-org/llama.cpp) - æ¨¡å‹æ¨ç†å¼•æ“
- [MLXæ¡†æ¶æ–‡æ¡£](https://github.com/ml-explore/mlx) - Apple Siliconä¼˜åŒ–

### ç›¸å…³é¡¹ç›®
- [Ollama](https://github.com/ollama/ollama) - æœ¬åœ°LLMéƒ¨ç½²å·¥å…·
- [ChromaDB](https://github.com/chroma-core/chroma) - å‘é‡æ•°æ®åº“
- [LangChain](https://github.com/langchain-ai/langchain) - LLMåº”ç”¨æ¡†æ¶
- [Transformers](https://github.com/huggingface/transformers) - æ¨¡å‹è®­ç»ƒåº“

### ç¤¾åŒºèµ„æº
- [Discordç¤¾åŒº](https://discord.gg/GpWHQNUwrg) - å®˜æ–¹è®¨è®ºç¾¤
- [Redditç¤¾åŒº](https://www.reddit.com/r/SecondMeAI/) - ç”¨æˆ·äº¤æµ
- [GitHub Issues](https://github.com/mindverse/Second-Me/issues) - é—®é¢˜åé¦ˆ
- [Twitter](https://x.com/SecondMe_AI1) - é¡¹ç›®åŠ¨æ€

